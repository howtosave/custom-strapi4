(self.webpackChunk_strapi_admin=self.webpackChunk_strapi_admin||[]).push([[5199],{5841:function(W,h,t){(function(e,o){W.exports=o(t(32735))})(this,function(e){return function(o){var d={};function u(s){if(d[s])return d[s].exports;var i=d[s]={i:s,l:!1,exports:{}};return o[s].call(i.exports,i,i.exports,u),i.l=!0,i.exports}return u.m=o,u.c=d,u.d=function(s,i,m){u.o(s,i)||Object.defineProperty(s,i,{enumerable:!0,get:m})},u.r=function(s){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},u.t=function(s,i){if(1&i&&(s=u(s)),8&i||4&i&&typeof s=="object"&&s&&s.__esModule)return s;var m=Object.create(null);if(u.r(m),Object.defineProperty(m,"default",{enumerable:!0,value:s}),2&i&&typeof s!="string")for(var T in s)u.d(m,T,function(_){return s[_]}.bind(null,T));return m},u.n=function(s){var i=s&&s.__esModule?function(){return s.default}:function(){return s};return u.d(i,"a",i),i},u.o=function(s,i){return Object.prototype.hasOwnProperty.call(s,i)},u.p="",u(u.s=68)}({0:function(o,d){o.exports=e},68:function(o,d,u){"use strict";u.r(d);var s=u(0);function i(){return(i=Object.assign||function(m){for(var T=1;T<arguments.length;T++){var _=arguments[T];for(var D in _)Object.prototype.hasOwnProperty.call(_,D)&&(m[D]=_[D])}return m}).apply(this,arguments)}d.default=function(m){return s.createElement("svg",i({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},m),s.createElement("path",{d:"M0 2.8A.8.8 0 01.8 2h22.4a.8.8 0 01.8.8v2.71a1 1 0 01-1 1H1a1 1 0 01-1-1V2.8z",fill:"#32324D"}),s.createElement("path",{d:"M1.922 7.991C.197 6.675 0 6.252 0 5.289h23.953c.305 1.363-1.594 2.506-2.297 3.125-1.953 1.363-6.253 4.36-7.828 5.45-1.575 1.09-3.031.455-3.562 0-2.063-1.41-6.62-4.557-8.344-5.873zM22.8 18H1.2c-.663 0-1.2.471-1.2 1.053v1.894C0 21.529.537 22 1.2 22h21.6c.663 0 1.2-.471 1.2-1.053v-1.894c0-.582-.537-1.053-1.2-1.053z",fill:"#32324D"}),s.createElement("path",{d:"M0 9.555v10.972h24V9.554c-2.633 1.95-8.367 6.113-9.96 7.166-1.595 1.052-3.352.438-4.032 0L0 9.555z",fill:"#32324D"}))}}})})},98524:(W,h,t)=>{"use strict";t.d(h,{Z:()=>o});const o={firstname:"",lastname:"",email:"",roles:[]}},59274:(W,h,t)=>{"use strict";t.d(h,{Z:()=>o});const o=[]},492:(W,h,t)=>{"use strict";t.r(h),t.d(h,{default:()=>Ot});var e=t(32735),o=t(484),d=t(10186),u=t(11856),s=t(44526),i=t(16540),m=t(29270),T=t(5841),_=t.n(T),D=t(5141),S=t(5636),M=t(84968),L=t(60216),f=t.n(L),oe=t(35980),R=t(9808),J=t(20763),w=t(19192),j=t(95602),A=t(53214),Z=t(95717),z=t.n(Z),le=t(76470),re=t.n(le),Y=t(2139),N=Object.defineProperty,K=Object.getOwnPropertySymbols,B=Object.prototype.hasOwnProperty,Q=Object.prototype.propertyIsEnumerable,de=(r,n,a)=>n in r?N(r,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):r[n]=a,ne=(r,n)=>{for(var a in n||(n={}))B.call(n,a)&&de(r,a,n[a]);if(K)for(var a of K(n))Q.call(n,a)&&de(r,a,n[a]);return r},V=(r,n)=>{var a={};for(var l in r)B.call(r,l)&&n.indexOf(l)<0&&(a[l]=r[l]);if(r!=null&&K)for(var l of K(r))n.indexOf(l)<0&&Q.call(r,l)&&(a[l]=r[l]);return a};const ye=({canDelete:r,headers:n,entriesToDelete:a,onClickDelete:l,onSelectRow:p,withMainAction:P,withBulkActions:v,rows:y})=>{const{push:c,location:{pathname:g}}=(0,D.useHistory)(),{formatMessage:O}=(0,S.useIntl)();return e.createElement(A.Tbody,null,y.map(E=>{const H=a.findIndex(X=>X===E.id)!==-1;return e.createElement(A.Tr,ne({key:E.id},(0,o.onRowClick)({fn:()=>c(`${g}/${E.id}`),condition:v})),P&&e.createElement(A.Td,ne({},o.stopPropagation),e.createElement(oe.BaseCheckbox,{"aria-label":O({id:"app.component.table.select.one-entry",defaultMessage:"Select {target}"},{target:(0,Y.Pp)(E.firstname,E.lastname)}),checked:H,onChange:()=>{p({name:E.id,value:!H})}})),n.map(X=>{var $=X,{key:U,cellFormatter:se,name:k}=$,F=V($,["key","cellFormatter","name"]);return e.createElement(A.Td,{key:U},typeof se=="function"?se(E,ne({key:U,name:k,formatMessage:O},F)):e.createElement(j.Typography,{textColor:"neutral800"},E[k]||"-"))}),v&&e.createElement(A.Td,null,e.createElement(w.Flex,{justifyContent:"end"},e.createElement(J.IconButton,{onClick:()=>c(`${g}/${E.id}`),label:O({id:"app.component.table.edit",defaultMessage:"Edit {target}"},{target:(0,Y.Pp)(E.firstname,E.lastname)}),noBorder:!0,icon:e.createElement(z(),null)}),r&&e.createElement(R.Box,ne({paddingLeft:1},o.stopPropagation),e.createElement(J.IconButton,{onClick:()=>l(E.id),label:O({id:"global.delete-target",defaultMessage:"Delete {target}"},{target:(0,Y.Pp)(E.firstname,E.lastname)}),noBorder:!0,icon:e.createElement(re(),null)})))))}))};ye.defaultProps={canDelete:!1,entriesToDelete:[],onClickDelete(){},onSelectRow(){},rows:[],withBulkActions:!1,withMainAction:!1},ye.propTypes={canDelete:f().bool,entriesToDelete:f().array,headers:f().array.isRequired,onClickDelete:f().func,onSelectRow:f().func,rows:f().array,withBulkActions:f().bool,withMainAction:f().bool};const $e=ye;var ze=t(23899),Qe=t.n(ze);const De=({displayedFilters:r})=>{const[n,a]=(0,e.useState)(!1),{formatMessage:l}=(0,S.useIntl)(),p=(0,e.useRef)(),P=()=>{a(v=>!v)};return e.createElement(e.Fragment,null,e.createElement(R.Box,{paddingTop:1,paddingBottom:1},e.createElement(s.Button,{variant:"tertiary",ref:p,startIcon:e.createElement(Qe(),null),onClick:P,size:"S"},l({id:"app.utils.filters",defaultMessage:"Filters"})),n&&e.createElement(o.FilterPopoverURLQuery,{displayedFilters:r,isVisible:n,onToggle:P,source:p})),e.createElement(o.FilterListURLQuery,{filtersSchema:r}))};De.propTypes={displayedFilters:f().arrayOf(f().shape({name:f().string.isRequired,metadatas:f().shape({label:f().string}),fieldSchema:f().shape({type:f().string})})).isRequired};const Ve=De;var Pe=t(92577),He=t(72975),me=t.n(He),pe=t(4122),ie=t(78330),Te=t(71657),Se=t(90662),Xe=t(83281),Me=t(49986),Ge=t(67446);const Je=[[{intlLabel:{id:"Auth.form.firstname.label",defaultMessage:"First name"},name:"firstname",placeholder:{id:"Auth.form.firstname.placeholder",defaultMessage:"e.g. Kai"},type:"text",size:{col:6,xs:12},required:!0},{intlLabel:{id:"Auth.form.lastname.label",defaultMessage:"Last name"},name:"lastname",placeholder:{id:"Auth.form.lastname.placeholder",defaultMessage:"e.g. Doe"},type:"text",size:{col:6,xs:12}}],[{intlLabel:{id:"Auth.form.email.label",defaultMessage:"Email"},name:"email",placeholder:{id:"Auth.form.email.placeholder",defaultMessage:"e.g. kai.doe@strapi.io"},type:"email",size:{col:6,xs:12},required:!0}]];var ue=t(5173);const Ye=ue.Ry().shape({firstname:ue.Z_().trim().required(o.translatedErrors.required),lastname:ue.Z_(),email:ue.Z_().email(o.translatedErrors.email).required(o.translatedErrors.required),roles:ue.IX().min(1,o.translatedErrors.required).required(o.translatedErrors.required)}),ke={create:{buttonSubmitLabel:{id:"app.containers.Users.ModalForm.footer.button-success",defaultMessage:"Invite user"},isDisabled:!1,next:"magic-link"},"magic-link":{buttonSubmitLabel:{id:"global.finish",defaultMessage:"Finish"},isDisabled:!0,next:null}};function qe(r,n){var a=typeof Symbol!="undefined"&&r[Symbol.iterator]||r["@@iterator"];if(!a){if(Array.isArray(r)||(a=et(r))||n&&r&&typeof r.length=="number"){a&&(r=a);var l=0,p=function(){};return{s:p,n:function(){return l>=r.length?{done:!0}:{done:!1,value:r[l++]}},e:function(g){throw g},f:p}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var P=!0,v=!1,y;return{s:function(){a=a.call(r)},n:function(){var g=a.next();return P=g.done,g},e:function(g){v=!0,y=g},f:function(){try{!P&&a.return!=null&&a.return()}finally{if(v)throw y}}}}function et(r,n){if(!!r){if(typeof r=="string")return Le(r,n);var a=Object.prototype.toString.call(r).slice(8,-1);if(a==="Object"&&r.constructor&&(a=r.constructor.name),a==="Map"||a==="Set")return Array.from(r);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Le(r,n)}}function Le(r,n){(n==null||n>r.length)&&(n=r.length);for(var a=0,l=new Array(n);a<n;a++)l[a]=r[a];return l}var tt=Object.defineProperty,at=Object.defineProperties,rt=Object.getOwnPropertyDescriptors,Ce=Object.getOwnPropertySymbols,nt=Object.prototype.hasOwnProperty,st=Object.prototype.propertyIsEnumerable,Ae=function(n,a,l){return a in n?tt(n,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):n[a]=l},fe=function(n,a){for(var l in a||(a={}))nt.call(a,l)&&Ae(n,l,a[l]);if(Ce){var p=qe(Ce(a)),P;try{for(p.s();!(P=p.n()).done;){var l=P.value;st.call(a,l)&&Ae(n,l,a[l])}}catch(v){p.e(v)}finally{p.f()}}return n},be=function(n,a){return at(n,rt(a))},Be=function(n,a,l){return new Promise(function(p,P){var v=function(O){try{c(l.next(O))}catch(E){P(E)}},y=function(O){try{c(l.throw(O))}catch(E){P(E)}},c=function(O){return O.done?p(O.value):Promise.resolve(O.value).then(v,y)};c((l=l.apply(n,a)).next())})},ot=function(){return window&&window.strapi&&window.strapi.isEE?t(54602).Z:t(98524).Z}(),lt=function(){return window&&window.strapi&&window.strapi.isEE?t(88258).Z:t(59274).Z}(),it=function(){return window&&window.strapi&&window.strapi.isEE?t(27732).Z:t(10916).Z}(),Ie=function(n){var a=n.queryName,l=n.onToggle,p=(0,e.useState)("create"),P=(0,Pe.Z)(p,2),v=P[0],y=P[1],c=(0,e.useState)(!1),g=(0,Pe.Z)(c,2),O=g[0],E=g[1],H=(0,e.useState)(null),X=(0,Pe.Z)(H,2),$=X[0],U=X[1],se=(0,M.useQueryClient)(),k=(0,S.useIntl)(),F=k.formatMessage,ge=(0,o.useNotification)(),Ee=(0,o.useOverlayBlocker)(),C=Ee.lockApp,ce=Ee.unlockApp,ve=(0,M.useMutation)(function(x){return Me.be.post("/admin/users",x)},{onSuccess:function(q){return Be(this,arguments,me().mark(function ee(te){var G;return me().wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:return G=te.data,U(G.data.registrationToken),ae.next=4,se.invalidateQueries(a);case 4:Dt(),E(!1);case 6:case"end":return ae.stop()}},ee)}))},onError:function(q){throw E(!1),ge({type:"warning",message:{id:"notification.error",defaultMessage:"An error occured"}}),q},onSettled:function(){ce()}}),xe=F({id:"Settings.permissions.users.create",defaultMessage:"Invite new user"}),_t=function(q,ee){return Be(void 0,[q,ee],me().mark(function te(G,b){var ae,Ze,Ne;return me().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return ae=b.setErrors,C(),E(!0),I.prev=3,I.next=6,ve.mutateAsync(G);case 6:I.next=12;break;case 8:I.prev=8,I.t0=I.catch(3),ce(),((Ne=(Ze=I.t0==null?void 0:I.t0.response)==null?void 0:Ze.data)==null?void 0:Ne.error.message)==="Email already taken"&&ae({email:I.t0.response.data.error.message});case 12:case"end":return I.stop()}},te,null,[[3,8]])}))},Dt=function(){je?y(je):l()},Oe=ke[v],we=Oe.buttonSubmitLabel,_e=Oe.isDisabled,je=Oe.next,Tt=v==="create"?e.createElement(s.Button,{type:"submit",loading:O},F(we)):e.createElement(s.Button,{type:"button",loading:O,onClick:l},F(we));return e.createElement(pe.ModalLayout,{onClose:l,labelledBy:"title"},e.createElement(pe.ModalHeader,null,e.createElement(Te.Breadcrumbs,{label:xe},e.createElement(Te.Crumb,null,xe))),e.createElement(Xe.Formik,{initialValues:ot,onSubmit:_t,validationSchema:Ye,validateOnChange:!1},function(x){var q=x.errors,ee=x.handleChange,te=x.values;return e.createElement(o.Form,null,e.createElement(pe.ModalBody,null,e.createElement(Se.Stack,{spacing:6},v!=="create"&&e.createElement(it,{registrationToken:$}),e.createElement(R.Box,null,e.createElement(j.Typography,{variant:"beta",as:"h2"},F({id:"app.components.Users.ModalCreateBody.block-title.details",defaultMessage:"User details"})),e.createElement(R.Box,{paddingTop:4},e.createElement(Se.Stack,{spacing:1},e.createElement(ie.Grid,{gap:5},Je.map(function(G){return G.map(function(b){return e.createElement(ie.GridItem,fe({key:b.name},b.size),e.createElement(o.GenericInput,be(fe({},b),{disabled:_e,error:q[b.name],onChange:ee,value:te[b.name]})))})}))))),e.createElement(R.Box,null,e.createElement(j.Typography,{variant:"beta",as:"h2"},F({id:"global.roles",defaultMessage:"User's role"})),e.createElement(R.Box,{paddingTop:4},e.createElement(ie.Grid,{gap:5},e.createElement(ie.GridItem,{col:6,xs:12},e.createElement(Ge.Z,{disabled:_e,error:q.roles,onChange:ee,value:te.roles})),lt.map(function(G){return G.map(function(b){return e.createElement(ie.GridItem,fe({key:b.name},b.size),e.createElement(o.GenericInput,be(fe({},b),{disabled:_e,onChange:ee,value:te[b.name]})))})})))))),e.createElement(pe.ModalFooter,{startActions:e.createElement(s.Button,{variant:"tertiary",onClick:l,type:"button"},F({id:"app.components.Button.cancel",defaultMessage:"Cancel"})),endActions:Tt}))}))};Ie.propTypes={onToggle:f().func.isRequired,queryName:f().array.isRequired};const ut=Ie,he=({pagination:r})=>e.createElement(R.Box,{paddingTop:4},e.createElement(w.Flex,{alignItems:"flex-end",justifyContent:"space-between"},e.createElement(o.PageSizeURLQuery,null),e.createElement(o.PaginationURLQuery,{pagination:r})));he.defaultProps={pagination:{pageCount:0,pageSize:10,total:0}},he.propTypes={pagination:f().shape({page:f().number,pageCount:f().number,pageSize:f().number,total:f().number})};const ct=he;var Re=(r,n,a)=>new Promise((l,p)=>{var P=c=>{try{y(a.next(c))}catch(g){p(g)}},v=c=>{try{y(a.throw(c))}catch(g){p(g)}},y=c=>c.done?l(c.value):Promise.resolve(c.value).then(P,v);y((a=a.apply(r,n)).next())});const dt=(r,n)=>Re(void 0,null,function*(){const{data:{data:a}}=yield Me.be.get(`/admin/users${r}`);return n(),a}),mt=r=>Re(void 0,null,function*(){yield Me.be.post("/admin/users/batch-delete",{ids:r})}),pt=[{name:"firstname",metadatas:{label:"Firstname"},fieldSchema:{type:"string"}},{name:"lastname",metadatas:{label:"Lastname"},fieldSchema:{type:"string"}},{name:"email",metadatas:{label:"Email"},fieldSchema:{type:"email"}},{name:"username",metadatas:{label:"Username"},fieldSchema:{type:"string"}},{name:"isActive",metadatas:{label:"Active user"},fieldSchema:{type:"boolean"}}],ft=[{name:"firstname",key:"firstname",metadatas:{label:{id:"Settings.permissions.users.firstname",defaultMessage:"Firstname"},sortable:!0}},{name:"lastname",key:"lastname",metadatas:{label:{id:"Settings.permissions.users.lastname",defaultMessage:"Lastname"},sortable:!0}},{key:"email",name:"email",metadatas:{label:{id:"Settings.permissions.users.email",defaultMessage:"Email"},sortable:!0}},{key:"roles",name:"roles",metadatas:{label:{id:"Settings.permissions.users.roles",defaultMessage:"Roles"},sortable:!1},cellFormatter({roles:r},{formatMessage:n}){return e.createElement(j.Typography,{textColor:"neutral800"},r.map(a=>n({id:`Settings.permissions.users.${a.code}`,defaultMessage:a.name})).join(`,
`))}},{key:"username",name:"username",metadatas:{label:{id:"Settings.permissions.users.username",defaultMessage:"Username"},sortable:!0}},{key:"isActive",name:"isActive",metadatas:{label:{id:"Settings.permissions.users.user-status",defaultMessage:"User status"},sortable:!1},cellFormatter({isActive:r},{formatMessage:n}){return e.createElement(w.Flex,null,e.createElement(o.Status,{isActive:r,variant:r?"success":"danger"}),e.createElement(j.Typography,{textColor:"neutral800"},n({id:r?"Settings.permissions.users.active":"Settings.permissions.users.inactive",defaultMessage:r?"Active":"Inactive"})))}}];var gt=Object.defineProperty,Et=Object.defineProperties,vt=Object.getOwnPropertyDescriptors,Ue=Object.getOwnPropertySymbols,yt=Object.prototype.hasOwnProperty,Pt=Object.prototype.propertyIsEnumerable,Fe=(r,n,a)=>n in r?gt(r,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):r[n]=a,We=(r,n)=>{for(var a in n||(n={}))yt.call(n,a)&&Fe(r,a,n[a]);if(Ue)for(var a of Ue(n))Pt.call(n,a)&&Fe(r,a,n[a]);return r},Ke=(r,n)=>Et(r,vt(n)),Mt=(r,n,a)=>new Promise((l,p)=>{var P=c=>{try{y(a.next(c))}catch(g){p(g)}},v=c=>{try{y(a.throw(c))}catch(g){p(g)}},y=c=>c.done?l(c.value):Promise.resolve(c.value).then(P,v);y((a=a.apply(r,n)).next())});const ht=()=>{const[r,n]=(0,e.useState)(!1),{allowedActions:{canCreate:a,canDelete:l,canRead:p}}=(0,o.useRBAC)(d.Z.settings.users),P=(0,M.useQueryClient)(),v=(0,o.useNotification)(),{formatMessage:y}=(0,S.useIntl)(),{search:c}=(0,D.useLocation)();(0,o.useFocusWhenNavigate)();const{notifyStatus:g}=(0,m.useNotifyAT)(),O=["users",c],E=ft.map(C=>Ke(We({},C),{metadatas:Ke(We({},C.metadatas),{label:y(C.metadatas.label)})})),H=y({id:"global.users",defaultMessage:"Users"}),X=()=>{g(y({id:"app.utils.notify.data-loaded",defaultMessage:"The {target} has loaded"},{target:H}))},{status:$,data:U,isFetching:se}=(0,M.useQuery)(O,()=>dt(c,X),{enabled:p,keepPreviousData:!0,retry:!1,staleTime:1e3*20,onError(){v({type:"warning",message:{id:"notification.error",defaultMessage:"An error occured"}})}}),k=()=>{n(C=>!C)},F=(0,M.useMutation)(C=>mt(C),{onSuccess(){return Mt(this,null,function*(){yield P.invalidateQueries(O)})},onError(C){var ce,ve;(ve=(ce=C==null?void 0:C.response)==null?void 0:ce.data)!=null&&ve.data?v({type:"warning",message:C.response.data.data}):v({type:"warning",message:{id:"notification.error",defaultMessage:"An error occured"}})}}),ge=$!=="success"&&$!=="error"||$==="success"&&se,Ee=a?e.createElement(s.Button,{"data-testid":"create-user-button",onClick:k,startIcon:e.createElement(_(),null),size:"S"},y({id:"Settings.permissions.users.create",defaultMessage:"Invite new user"})):void 0;return e.createElement(i.Main,{"aria-busy":ge},e.createElement(o.SettingsPageTitle,{name:"Users"}),e.createElement(u.HeaderLayout,{primaryAction:Ee,title:H,subtitle:y({id:"Settings.permissions.users.listview.header.subtitle",defaultMessage:"All the users who have access to the Strapi admin panel"})}),p&&e.createElement(u.ActionLayout,{startActions:e.createElement(e.Fragment,null,e.createElement(o.SearchURLQuery,{label:y({id:"app.component.search.label",defaultMessage:"Search for {target}"},{target:H})}),e.createElement(Ve,{displayedFilters:pt}))}),e.createElement(u.ContentLayout,{canRead:p},!p&&e.createElement(o.NoPermissions,null),$==="error"&&e.createElement("div",null,"TODO: An error occurred"),p&&e.createElement(e.Fragment,null,e.createElement(o.DynamicTable,{contentType:"Users",isLoading:ge,onConfirmDeleteAll:F.mutateAsync,onConfirmDelete:C=>F.mutateAsync([C]),headers:E,rows:U==null?void 0:U.results,withBulkActions:!0,withMainAction:l},e.createElement($e,{canDelete:l,headers:E,rows:(U==null?void 0:U.results)||[],withBulkActions:!0,withMainAction:l})),e.createElement(ct,{pagination:U==null?void 0:U.pagination}))),r&&e.createElement(ut,{onToggle:k,queryName:O}))},Ot=()=>e.createElement(o.CheckPagePermissions,{permissions:d.Z.settings.users.main},e.createElement(ht,null))},68325:(W,h,t)=>{"use strict";t.d(h,{Z:()=>oe});var e=t(32735),o=t(60216),d=t.n(o),u=t(20763),s=t.n(u),i=t(484),m=t.n(i),T=t(68192),_=t.n(T),D=t(59087),S=t.n(D),M=t(5636);const L=()=>e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg"},e.createElement("text",{transform:"translate(-23 -9)",fill:"#4B515A",fillRule:"evenodd",fontSize:"32",fontFamily:"AppleColorEmoji, Apple Color Emoji"},e.createElement("tspan",{x:"23",y:"36"},"\u2709\uFE0F"))),f=({children:R,target:J})=>{const w=(0,i.useNotification)(),{formatMessage:j}=(0,M.useIntl)(),A=()=>{w({type:"info",message:{id:"notification.link-copied"}})},Z=j({id:"app.component.CopyToClipboard.label",defaultMessage:"Copy to clipboard"});return e.createElement(i.ContentBox,{endAction:e.createElement(D.CopyToClipboard,{onCopy:A,text:J},e.createElement(u.IconButton,{label:Z,noBorder:!0,icon:e.createElement(_(),null)})),title:J,titleEllipsis:!0,subtitle:R,icon:e.createElement(L,null),iconBackground:"neutral100"})};f.propTypes={children:d().oneOfType([d().element,d().string]).isRequired,target:d().string.isRequired};const oe=f},10916:(W,h,t)=>{"use strict";t.d(h,{Z:()=>T});var e=t(32735),o=t(5636),d=t(60216),u=t.n(d),s=t(83864),i=t(68325);const m=({registrationToken:_})=>{const{formatMessage:D}=(0,o.useIntl)(),S=`${window.location.origin}${s.Z}auth/register?registrationToken=${_}`;return e.createElement(i.Z,{target:S},D({id:"app.components.Users.MagicLink.connect",defaultMessage:"Copy and share this link to give access to this user"}))};m.defaultProps={registrationToken:""},m.propTypes={registrationToken:u().string};const T=m},67446:(W,h,t)=>{"use strict";t.d(h,{Z:()=>j});var e=t(32735),o=t(60216),d=t.n(o),u=t(5636),s=t(25716),i=t.n(s),m=t(84968),T=t.n(m),_=t(19615),D=t(103),S=t.n(D),M=t(49986),L=(A,Z,z)=>new Promise((le,re)=>{var Y=B=>{try{K(z.next(B))}catch(Q){re(Q)}},N=B=>{try{K(z.throw(B))}catch(Q){re(Q)}},K=B=>B.done?le(B.value):Promise.resolve(B.value).then(Y,N);K((z=z.apply(A,Z)).next())});const f=_.keyframes`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(359deg);
  }
`,oe=_.default.div`
  animation: ${f} 2s infinite linear;
`,R=()=>e.createElement(oe,null,e.createElement(S(),null)),J=()=>L(void 0,null,function*(){const{data:A}=yield M.be.get("/admin/roles");return A.data}),w=({disabled:A,error:Z,onChange:z,value:le})=>{const{status:re,data:Y}=(0,m.useQuery)(["roles"],J,{staleTime:5e4}),{formatMessage:N}=(0,u.useIntl)(),K=Z?N({id:Z,defaultMessage:Z}):"",B=N({id:"app.components.Users.ModalCreateBody.block-title.roles",defaultMessage:"User's roles"}),Q=N({id:"app.components.Users.ModalCreateBody.block-title.roles.description",defaultMessage:"A user can have one or several roles"}),de=N({id:"app.components.Select.placeholder",defaultMessage:"Select"}),ne=re==="loading"?e.createElement(R,null):void 0;return e.createElement(s.Select,{id:"roles",disabled:A,error:K,hint:Q,label:B,name:"roles",onChange:V=>{z({target:{name:"roles",value:V}})},placeholder:de,multi:!0,startIcon:ne,value:le,withTags:!0,required:!0},(Y||[]).map(V=>e.createElement(s.Option,{key:V.id,value:V.id},N({id:`global.${V.code}`,defaultMessage:V.name}))))};w.defaultProps={disabled:!1,error:void 0},w.propTypes={disabled:d().bool,error:d().string,onChange:d().func.isRequired,value:d().array.isRequired};const j=w},54602:(W,h,t)=>{"use strict";t.d(h,{Z:()=>D});var e=t(98524),o=Object.defineProperty,d=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,i=(S,M,L)=>M in S?o(S,M,{enumerable:!0,configurable:!0,writable:!0,value:L}):S[M]=L,m=(S,M)=>{for(var L in M||(M={}))u.call(M,L)&&i(S,L,M[L]);if(d)for(var L of d(M))s.call(M,L)&&i(S,L,M[L]);return S};const T=strapi.features.isEnabled(strapi.features.SSO)?{useSSORegistration:!0}:{},D=m(m({},e.Z),T)},88258:(W,h,t)=>{"use strict";t.d(h,{Z:()=>o});const o=strapi.features.isEnabled(strapi.features.SSO)?[[{intlLabel:{id:"Settings.permissions.users.form.sso",defaultMessage:"Connect with SSO"},hint:{id:"Settings.permissions.users.form.sso.description",defaultMessage:"When enabled (ON), users can login via SSO"},name:"useSSORegistration",type:"bool",size:{col:6,xs:12}}]]:[]},27732:(W,h,t)=>{"use strict";t.d(h,{Z:()=>T});var e=t(32735),o=t(5636),d=t(60216),u=t.n(d),s=t(83864),i=t(68325);const m=({registrationToken:_})=>{const{formatMessage:D}=(0,o.useIntl)();return _?e.createElement(i.Z,{target:`${window.location.origin}${s.Z}auth/register?registrationToken=${_}`},D({id:"app.components.Users.MagicLink.connect",defaultMessage:"Copy and share this link to give access to this user"})):e.createElement(i.Z,{target:`${window.location.origin}${s.Z}auth/login`},D({id:"app.components.Users.MagicLink.connect.sso",defaultMessage:"Send this link to the user, the first login can be made via a SSO provider."}))};m.defaultProps={registrationToken:""},m.propTypes={registrationToken:u().string};const T=m}}]);
